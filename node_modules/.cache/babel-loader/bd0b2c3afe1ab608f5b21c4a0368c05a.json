{"ast":null,"code":"import _defineProperty from \"/home/ben/Documents/React/paris-js-0918-groupe2-react/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/ben/Documents/React/paris-js-0918-groupe2-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/ben/Documents/React/paris-js-0918-groupe2-react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/ben/Documents/React/paris-js-0918-groupe2-react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/ben/Documents/React/paris-js-0918-groupe2-react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/ben/Documents/React/paris-js-0918-groupe2-react/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/ben/Documents/React/paris-js-0918-groupe2-react/src/components/compte.js\";\nimport React, { Component } from \"react\";\nimport \"./compte.css\";\nimport modifier from \"./Icones_Arigoni/icone_modifier.png\";\nimport upload from \"./Icones_Arigoni/icone_upload.png\"; // import signature from \"./Icones_Arigoni/signature.png\";\n\nimport Axios from \"axios\";\nimport { confirmAlert } from \"react-confirm-alert\";\nimport \"react-confirm-alert/src/react-confirm-alert.css\"; // import Formulairecompte from \"./formulairecompte\";\n\nimport { NavLink } from \"react-router-dom\";\nimport valider from \"./Icones_Arigoni/valider.svg\";\n\nvar Compte =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Compte, _Component);\n\n  function Compte() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Compte);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Compte)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      data: [],\n      titre: \"\",\n      nom: \"\",\n      prenom: \"\",\n      num_rue: \"\",\n      libelle_rue: \"\",\n      code_postal: \"\",\n      ville: \"\",\n      tel: \"\",\n      fax: \"\",\n      mail: \"\",\n      num_TVA: \"\",\n      file: \"\"\n    };\n\n    _this.onFormSubmitSignature = function (e) {\n      e.preventDefault();\n      var formData = new FormData();\n      formData.append(\"signature\", _this.state.file);\n      console.log(formData);\n      var config = {\n        headers: {\n          \"content-type\": \"multipart/form-data\"\n        }\n      };\n      Axios.post(\"http://localhost:4848/dashboard/signature\", formData, config).then(function (response) {\n        alert(\"Le fichier a été téléchargé avec succès\");\n        console.log(response);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.onFormSubmitEntete = function (e) {\n      e.preventDefault();\n      var formData = new FormData();\n      formData.append(\"entete\", _this.state.file);\n      console.log(formData);\n      var config = {\n        headers: {\n          // app.post(\"/dashboard/entete\", upload.single(\"entete\"), (req, res, next) => {\n          //   console.log(req.files);\n          //   for (f of req.files)\n          //     fs.rename(f.path, \"public/images/\" + f.originalname, function(err) {\n          //       if (err) {\n          //         res.send(\"problème durant le déplacement\");\n          //       } else {\n          //         res.send(\"Fichier uploadé avec succès\");\n          //       }\n          //     });\n          // });\n          \"content-type\": \"multipart/form-data\"\n        }\n      };\n      Axios.post(\"http://localhost:4848/dashboard/\", formData, config).then(function (response) {\n        alert(\"Le fichier a été téléchargé avec succès\");\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.onChange = function (e) {\n      _this.setState({\n        file: e.target.files[0]\n      }); // setTimeout(this.onFormSubmitSignature(), 5000);\n\n    };\n\n    _this.reloadNow = function () {\n      Axios.get(\"http://www.localhost:4848/api/cabinet\").then(function (response) {\n        _this.setState({\n          data: response.data[0]\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.handleChange = function (id) {\n      var myId = id;\n      confirmAlert({\n        title: \"Merci de confirmer\",\n        message: \"Voulez-vous vraiment modifier les informations de votre cabinet d'avocat ?\",\n        buttons: [{\n          label: \"Oui\",\n          onClick: function onClick() {\n            return Axios.put(\"http://localhost:4848/api/cabinet/\".concat(myId), _this.state).then(function (response) {\n              _this.reloadNow(myId);\n\n              alert(\"Vos informations ont bien \\xE9t\\xE9 modifi\\xE9es.\");\n              console.log(response);\n            }).catch(function (error) {\n              console.log(error);\n            });\n          }\n        }, {\n          label: \"Non\" // onClick: () => alert(\"Le créancier n'a pas été supprimé.\")\n\n        }]\n      });\n    };\n\n    _this.handleMyUserInputs = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    return _this;\n  }\n\n  _createClass(Compte, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      Axios.get(\"http://localhost:4848/api/cabinet\").then(function (response) {\n        _this2.setState({\n          data: response.data[0]\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var infosCompte = this.state.data;\n      return React.createElement(\"div\", {\n        className: \"fl w-100 pt3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"fl w-100 pt3 tc stylish-cab\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"f1 b title-seysey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"Cabinet \", infosCompte.nom), React.createElement(\"div\", {\n        className: \"ba br4 mt4 w-60-ns nested-copy-line-height tc b--gray firstBorder size-think\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"b black\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, infosCompte.titre, \" \", infosCompte.nom, \" \", infosCompte.prenom), React.createElement(\"p\", {\n        className: \"b black\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, infosCompte.num_rue, \" \", infosCompte.libelle_rue, infosCompte.code_postal, \" \", infosCompte.ville), React.createElement(\"p\", {\n        className: \"b black\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, \"Tel: \", infosCompte.tel), React.createElement(\"p\", {\n        className: \"b black\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, \"Fax: \", infosCompte.fax), React.createElement(\"p\", {\n        className: \"b black\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, \"Email: \", infosCompte.mail), React.createElement(\"p\", {\n        className: \"b black\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, \"N\\xBA TVA: \", infosCompte.num_TVA), React.createElement(NavLink, {\n        to: \"/dashboard/formulairecompte\",\n        onClick: function onClick() {\n          return _this3.props.pageChangeSub(\"formulairecompte\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"icone pointer ml2 mb2\",\n        src: modifier,\n        alt: \"modifier\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"ba br4 mt3 w-60-ns nested-copy-line-height tc pb2 h4 b--gray otherBorder\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"b black tl ml3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, \" \", \"En-t\\xEAte:\", \" \"), \" \", React.createElement(\"img\", {\n        className: \"icone pointer ml3\",\n        src: upload,\n        alt: \"upload\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }), \" \", React.createElement(\"img\", {\n        className: \"valider icone pointer ml3\",\n        src: valider,\n        alt: \"valider\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"ba br4 mt3 w-60-ns nested-copy-line-height tc pb2 h4 b--gray otherBorder\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"b black tl ml3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, \" Signature: \"), React.createElement(\"form\", {\n        onSubmit: this.onFormSubmitSignature,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"mt3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"file\",\n        name: \"file\",\n        id: \"file\",\n        className: \"inputfile\",\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        htmlFor: \"file\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"icone pointer ml3\",\n        src: upload,\n        alt: \"upload\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      })), React.createElement(\"img\", {\n        className: \"icone pointer ml3\",\n        src: valider,\n        alt: \"valider\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }))))));\n    }\n  }]);\n\n  return Compte;\n}(Component);\n\nexport default Compte;","map":{"version":3,"sources":["/home/ben/Documents/React/paris-js-0918-groupe2-react/src/components/compte.js"],"names":["React","Component","modifier","upload","Axios","confirmAlert","NavLink","Compte","state","data","titre","nom","prenom","num_rue","libelle_rue","code_postal","ville","tel","fax","mail","num_TVA","file","onFormSubmitSignature","e","preventDefault","formData","FormData","append","console","log","config","headers","post","then","response","alert","catch","error","onFormSubmitEntete","onChange","setState","target","files","reloadNow","get","handleChange","id","myId","title","message","buttons","label","onClick","put","handleMyUserInputs","name","value","infosCompte","props","pageChangeSub","valider"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./compte.css\";\nimport modifier from \"./Icones_Arigoni/icone_modifier.png\";\nimport upload from \"./Icones_Arigoni/icone_upload.png\";\n// import signature from \"./Icones_Arigoni/signature.png\";\nimport Axios from \"axios\";\nimport { confirmAlert } from \"react-confirm-alert\";\nimport \"react-confirm-alert/src/react-confirm-alert.css\";\n// import Formulairecompte from \"./formulairecompte\";\nimport { NavLink } from \"react-router-dom\";\nimport valider from \"./Icones_Arigoni/valider.svg\";\n\n\nclass Compte extends Component {\n  state = {\n    data: [],\n    titre: \"\",\n    nom: \"\",\n    prenom: \"\",\n    num_rue: \"\",\n    libelle_rue: \"\",\n    code_postal: \"\",\n    ville: \"\",\n    tel: \"\",\n    fax: \"\",\n    mail: \"\",\n    num_TVA: \"\",\n    file: \"\"\n  };\n\n  onFormSubmitSignature = e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"signature\", this.state.file);\n    console.log(formData);\n    const config = {\n      headers: {\n        \"content-type\": \"multipart/form-data\"\n      }\n    };\n    Axios.post(\"http://localhost:4848/dashboard/signature\", formData, config)\n      .then(response => {\n        alert(\"Le fichier a été téléchargé avec succès\");\n        console.log(response);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n\n  onFormSubmitEntete = e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"entete\", this.state.file);\n    console.log(formData);\n    const config = {\n      headers: {\n        // app.post(\"/dashboard/entete\", upload.single(\"entete\"), (req, res, next) => {\n        //   console.log(req.files);\n        //   for (f of req.files)\n        //     fs.rename(f.path, \"public/images/\" + f.originalname, function(err) {\n        //       if (err) {\n        //         res.send(\"problème durant le déplacement\");\n        //       } else {\n        //         res.send(\"Fichier uploadé avec succès\");\n        //       }\n        //     });\n        // });\n        \"content-type\": \"multipart/form-data\"\n      }\n    };\n    Axios.post(\"http://localhost:4848/dashboard/\", formData, config)\n      .then(response => {\n        alert(\"Le fichier a été téléchargé avec succès\");\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n\n  onChange = e => {\n    this.setState({ file: e.target.files[0] });\n    // setTimeout(this.onFormSubmitSignature(), 5000);\n  };\n\n  reloadNow = () => {\n    Axios.get(\"http://www.localhost:4848/api/cabinet\")\n      .then(response => {\n        this.setState({\n          data: response.data[0]\n        });\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n\n  handleChange = id => {\n    const myId = id;\n    confirmAlert({\n      title: \"Merci de confirmer\",\n      message:\n        \"Voulez-vous vraiment modifier les informations de votre cabinet d'avocat ?\",\n      buttons: [\n        {\n          label: \"Oui\",\n          onClick: () =>\n            Axios.put(`http://localhost:4848/api/cabinet/${myId}`, this.state)\n              .then(response => {\n                this.reloadNow(myId);\n                alert(`Vos informations ont bien été modifiées.`);\n                console.log(response);\n              })\n              .catch(error => {\n                console.log(error);\n              })\n        },\n        {\n          label: \"Non\"\n          // onClick: () => alert(\"Le créancier n'a pas été supprimé.\")\n        }\n      ]\n    });\n  };\n\n  handleMyUserInputs = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  };\n\n  componentDidMount() {\n    Axios.get(\"http://localhost:4848/api/cabinet\")\n      .then(response => {\n        this.setState({\n          data: response.data[0]\n        });\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }\n\n  render() {\n    const infosCompte = this.state.data;\n    return (\n      <div className=\"fl w-100 pt3\">\n        \n\n        {/* ce que le modèle va donner */}\n        <div className=\"fl w-100 pt3 tc stylish-cab\">\n          <span className=\"f1 b title-seysey\">Cabinet {infosCompte.nom}</span>\n          <div className=\"ba br4 mt4 w-60-ns nested-copy-line-height tc b--gray firstBorder size-think\">\n            <p className=\"b black\">\n              {infosCompte.titre} {infosCompte.nom} {infosCompte.prenom}\n            </p>\n            <p className=\"b black\">\n              {infosCompte.num_rue} {infosCompte.libelle_rue}\n              {infosCompte.code_postal} {infosCompte.ville}\n            </p>\n            <p className=\"b black\">Tel: {infosCompte.tel}</p>\n            <p className=\"b black\">Fax: {infosCompte.fax}</p>\n            <p className=\"b black\">Email: {infosCompte.mail}</p>\n            <p className=\"b black\">Nº TVA: {infosCompte.num_TVA}</p>\n            <NavLink\n              to=\"/dashboard/formulairecompte\"\n              onClick={() => this.props.pageChangeSub(\"formulairecompte\")}\n            >\n              <img\n                className=\"icone pointer ml2 mb2\"\n                src={modifier}\n                alt=\"modifier\"\n              />\n            </NavLink>\n          </div>\n\n          <div className=\"ba br4 mt3 w-60-ns nested-copy-line-height tc pb2 h4 b--gray otherBorder\">\n            <p className=\"b black tl ml3\">\n              {\" \"}\n              En-tête:{\" \"}\n              {/* <span className=\"athelas navy f4 ml2\">Alexandra Arigoni </span>\n              <br /> <span className=\"athelas navy f4 job\"> AVOCAT</span> */}\n            </p>{\" \"}\n            <img className=\"icone pointer ml3\" src={upload} alt=\"upload\" />{\" \"}\n            <img\n              className=\"valider icone pointer ml3\"\n              src={valider}\n              alt=\"valider\"\n            />\n          </div>\n          <div className=\"ba br4 mt3 w-60-ns nested-copy-line-height tc pb2 h4 b--gray otherBorder\">\n            <p className=\"b black tl ml3\"> Signature: </p>\n            <form onSubmit={this.onFormSubmitSignature}>\n              {/* <img\n                className=\"w-33-ns ml3 h3 signature\"\n                src=\"http://localhost:4848/public/images/signature.jpeg\"\n                alt=\"signature\"\n              />{\" \"} */}\n              <br />\n              <div className=\"mt3\">\n                <input\n                  type=\"file\"\n                  name=\"file\"\n                  id=\"file\"\n                  className=\"inputfile\"\n                  onChange={this.onChange}\n                />\n                <label htmlFor=\"file\">\n                  <img\n                    className=\"icone pointer ml3\"\n                    src={upload}\n                    alt=\"upload\"\n                  />\n                </label>\n                <img\n                  className=\"icone pointer ml3\"\n                  src={valider}\n                  alt=\"valider\"\n                />\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Compte;\n"]},"metadata":{},"sourceType":"module"}