{"ast":null,"code":"import _classCallCheck from \"/home/ben/Documents/React/paris-js-0918-groupe2-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/ben/Documents/React/paris-js-0918-groupe2-react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/ben/Documents/React/paris-js-0918-groupe2-react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/ben/Documents/React/paris-js-0918-groupe2-react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/ben/Documents/React/paris-js-0918-groupe2-react/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/ben/Documents/React/paris-js-0918-groupe2-react/src/components/Historique.js\";\nimport React from \"react\"; // import supprimer from \"./Icones_Arigoni/icone_supprimer.png\";\n\nimport download from \"./Icones_Arigoni/icone_upload.png\";\nimport Axios from \"axios\";\nimport \"./Historique.css\";\nimport supprimer from \"./Icones_Arigoni/icone_supprimer.png\";\nimport modifier from \"./Icones_Arigoni/icone_modifier.png\";\n\nvar Historique =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Historique, _React$Component);\n\n  function Historique() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Historique);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Historique)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      checkboxActive: true,\n      actionsActive: [],\n      actionsNotActive: [],\n      creanciers: [],\n      debiteurs: []\n    };\n\n    _this.handleDelete = function (id, denomination) {\n      var myId = id;\n      confirmAlert({\n        title: \"Merci de confirmer\",\n        message: \"Voulez-vous vraiment supprimer ce créancier ?\",\n        buttons: [{\n          label: \"Oui\",\n          onClick: function onClick() {\n            return Axios.put(\"http://localhost:4848/api/creanciers/\".concat(myId), {\n              active: \"false\"\n            }).then(function (response) {\n              _this.reloadNow(myId);\n\n              alert(\"Le cr\\xE9ancier \".concat(denomination, \" a bien \\xE9t\\xE9 supprim\\xE9.\"));\n              console.log(response);\n            }).catch(function (error) {\n              console.log(error);\n            });\n          }\n        }, {\n          label: \"Non\" // onClick: () => alert(\"Le créancier n'a pas été supprimé.\")\n\n        }]\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Historique, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      Axios.get(\"http://localhost:4848/api/actions\").then(function (response) {\n        _this2.setState({\n          // returns filtered actions\n          actionsActive: response.data.filter(function (action) {\n            return action.active === true;\n          }),\n          actionsNotActive: response.data.filter(function (action) {\n            return action.active === false;\n          })\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n      Axios.get(\"http://localhost:4848/api/creanciers\").then(function (response) {\n        _this2.setState({\n          creanciers: response.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n      Axios.get(\"http://localhost:4848/api/debiteurs\").then(function (response) {\n        _this2.setState({\n          debiteurs: response.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"handleTabSwitch\",\n    value: function handleTabSwitch() {\n      return this.state.checkboxActive ? this.state.actionsActive : this.state.actionsNotActive;\n    }\n  }, {\n    key: \"handleCheckbox\",\n    value: function handleCheckbox() {\n      this.setState({\n        checkboxActive: !this.state.checkboxActive\n      });\n    }\n  }, {\n    key: \"handleCheckboxDisplay\",\n    value: function handleCheckboxDisplay() {\n      return this.state.checkboxActive ? \"actions en cours\" : \"actions clôturées\";\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var actionsActive = this.handleTabSwitch();\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"fl w-100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"title_d\\xE9biteur pl4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"f2 tc lh-copy\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \" Historique des actions \")), React.createElement(\"div\", {\n        className: \"fl w-100 \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"fl w-100 tc\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"checkbox-wrap custom style-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        id: \"custom-checkbox-2\",\n        onClick: function onClick() {\n          return _this3.handleCheckbox();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        htmlFor: \"custom-checkbox-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"G\\xE9rer les \", this.handleCheckboxDisplay()))), React.createElement(\"div\", {\n        className: \"fl w-40\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"fl w-100 pt2 pl4 pr4 \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"overflow-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        className: \"f6 w-100 center\",\n        cellSpacing: \"0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        className: \"stripe-dark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        className: \"fw6 tl pa3 bg-white tc\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Cr\\xE9ancier\"), React.createElement(\"th\", {\n        className: \"fw6 tl pa3 bg-white tc\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"D\\xE9biteur\"), React.createElement(\"th\", {\n        className: \"fw6 tl pa3 bg-white tc\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, \"Nom de l'action\"), React.createElement(\"th\", {\n        className: \"fw6 tl pa3 bg-white tc\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"Cl\\xF4turer\"), React.createElement(\"th\", {\n        className: \"fw6 tl pa3 bg-white tc\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"Mise en demeure\"), React.createElement(\"th\", {\n        className: \"fw6 tl pa3 bg-white tc\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \"Injonction de payer\"), React.createElement(\"th\", {\n        className: \"fw6 tl pa3 bg-white tc\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"Tableau recap\"))), React.createElement(\"tbody\", {\n        className: \"lh-copy\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, actionsActive.sort(function (a, b) {\n        return b.id - a.id;\n      }).slice(0, 50).map(function (action) {\n        return React.createElement(\"tr\", {\n          className: \"stripe-dark tc\",\n          key: \"\".concat(action.id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }, \"xxxxxx xXXX xxx\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        }, \"xxXXX XX XXx\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }, action.nom_action), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          className: \"icone download pointer\",\n          src: supprimer,\n          alt: \"supprimer\",\n          onClick: function onClick() {\n            return _this3.handleDelete(action.id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        })), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          className: \"icone download pointer\",\n          src: download,\n          alt: \"download\" // onClick={() =>\n          //   this.props.pageChangeSub(\n          //     \"FormDebiteur\",\n          //     0,\n          //     `${debiteur.id}`\n          //   )\n          // }\n          ,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164\n          },\n          __self: this\n        })), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          className: \"icone download pointer\",\n          src: download,\n          alt: \"download\" // onClick={() =>\n          //   this.handleDelete(\n          //     debiteur.id,\n          //     debiteur.denomination_sociale\n          //   )\n          // }\n          ,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        })), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          className: \"icone download pointer\",\n          src: download,\n          alt: \"download\" // onClick={() =>\n          //   this.handleDelete(\n          //     debiteur.id,\n          //     debiteur.denomination_sociale\n          //   )\n          // }\n          ,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 191\n          },\n          __self: this\n        })));\n      })))))));\n    }\n  }]);\n\n  return Historique;\n}(React.Component);\n\nexport default Historique;","map":{"version":3,"sources":["/home/ben/Documents/React/paris-js-0918-groupe2-react/src/components/Historique.js"],"names":["React","download","Axios","supprimer","modifier","Historique","state","checkboxActive","actionsActive","actionsNotActive","creanciers","debiteurs","handleDelete","id","denomination","myId","confirmAlert","title","message","buttons","label","onClick","put","active","then","response","reloadNow","alert","console","log","catch","error","get","setState","data","filter","action","handleTabSwitch","handleCheckbox","handleCheckboxDisplay","sort","a","b","slice","map","nom_action","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\n// import supprimer from \"./Icones_Arigoni/icone_supprimer.png\";\nimport download from \"./Icones_Arigoni/icone_upload.png\";\nimport Axios from \"axios\";\nimport \"./Historique.css\";\nimport supprimer from \"./Icones_Arigoni/icone_supprimer.png\";\nimport modifier from \"./Icones_Arigoni/icone_modifier.png\";\nclass Historique extends React.Component {\n  state = {\n    checkboxActive: true,\n    actionsActive: [],\n    actionsNotActive: [],\n    creanciers: [],\n    debiteurs: []\n  };\n\n  componentDidMount() {\n    Axios.get(\"http://localhost:4848/api/actions\")\n      .then(response => {\n        this.setState({\n          // returns filtered actions\n          actionsActive: response.data.filter(action => action.active === true),\n          actionsNotActive: response.data.filter(\n            action => action.active === false\n          )\n        });\n      })\n      .catch(error => {\n        console.log(error);\n      });\n    Axios.get(\"http://localhost:4848/api/creanciers\")\n      .then(response => {\n        this.setState({\n          creanciers: response.data\n        });\n      })\n      .catch(error => {\n        console.log(error);\n      });\n    Axios.get(\"http://localhost:4848/api/debiteurs\")\n      .then(response => {\n        this.setState({\n          debiteurs: response.data\n        });\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }\n\n  handleTabSwitch() {\n    return this.state.checkboxActive\n      ? this.state.actionsActive\n      : this.state.actionsNotActive;\n  }\n\n  handleDelete = (id, denomination) => {\n    const myId = id;\n    confirmAlert({\n      title: \"Merci de confirmer\",\n      message: \"Voulez-vous vraiment supprimer ce créancier ?\",\n      buttons: [\n        {\n          label: \"Oui\",\n          onClick: () =>\n            Axios.put(`http://localhost:4848/api/creanciers/${myId}`, {\n              active: \"false\"\n            })\n              .then(response => {\n                this.reloadNow(myId);\n                alert(`Le créancier ${denomination} a bien été supprimé.`);\n                console.log(response);\n              })\n              .catch(error => {\n                console.log(error);\n              })\n        },\n        {\n          label: \"Non\"\n          // onClick: () => alert(\"Le créancier n'a pas été supprimé.\")\n        }\n      ]\n    });\n  };\n\n  handleCheckbox() {\n    this.setState({\n      checkboxActive: !this.state.checkboxActive\n    });\n  }\n\n  handleCheckboxDisplay() {\n    return this.state.checkboxActive ? \"actions en cours\" : \"actions clôturées\";\n  }\n\n  render() {\n    const actionsActive = this.handleTabSwitch();\n    return (\n      <div>\n        <div className=\"fl w-100\">\n          <div className=\"title_débiteur pl4\">\n            <h1 className=\"f2 tc lh-copy\"> Historique des actions </h1>\n          </div>\n\n          <div className=\"fl w-100 \">\n            {/* checkbox */}\n            {/* <div className=\"fl w-100 tc\">\n              <span className=\"pr2\"> Actions en cours </span>\n              <input type=\"checkbox\" name=\"MED\" value=\"MED\" />\n              <span className=\"pr2 pl4\"> Actions cloturées </span>\n              <input type=\"checkbox\" name=\"injonction\" value=\"injonction\" />\n            </div> */}\n            <div className=\"fl w-100 tc\">\n              <div className=\"checkbox-wrap custom style-2\">\n                <input\n                  type=\"checkbox\"\n                  id=\"custom-checkbox-2\"\n                  onClick={() => this.handleCheckbox()}\n                />\n                <label htmlFor=\"custom-checkbox-2\">\n                  Gérer les {this.handleCheckboxDisplay()}\n                </label>\n              </div>\n            </div>\n\n            <div className=\"fl w-40\" />\n          </div>\n          {/* tableau */}\n          <div className=\"fl w-100 pt2 pl4 pr4 \">\n            <div className=\"overflow-auto\">\n              <table className=\"f6 w-100 center\" cellSpacing=\"0\">\n                <thead>\n                  <tr className=\"stripe-dark\">\n                    <th className=\"fw6 tl pa3 bg-white tc\">Créancier</th>\n                    <th className=\"fw6 tl pa3 bg-white tc\">Débiteur</th>\n                    <th className=\"fw6 tl pa3 bg-white tc\">Nom de l'action</th>\n                    <th className=\"fw6 tl pa3 bg-white tc\">Clôturer</th>\n                    <th className=\"fw6 tl pa3 bg-white tc\">Mise en demeure</th>\n                    <th className=\"fw6 tl pa3 bg-white tc\">\n                      Injonction de payer\n                    </th>\n                    <th className=\"fw6 tl pa3 bg-white tc\">Tableau recap</th>\n                  </tr>\n                </thead>\n                <tbody className=\"lh-copy\">\n                  {actionsActive\n                    .sort((a, b) => b.id - a.id)\n                    .slice(0, 50)\n                    .map(action => {\n                      return (\n                        <tr className=\"stripe-dark tc\" key={`${action.id}`}>\n                          <td>xxxxxx xXXX xxx</td>\n                          <td>xxXXX XX XXx</td>\n                          <td>{action.nom_action}</td>\n                          <td>\n                            <img\n                              className=\"icone download pointer\"\n                              src={supprimer}\n                              alt=\"supprimer\"\n                              onClick={() => this.handleDelete(action.id)}\n                            />\n                          </td>\n                          <td>\n                            <img\n                              className=\"icone download pointer\"\n                              src={download}\n                              alt=\"download\"\n                              // onClick={() =>\n                              //   this.props.pageChangeSub(\n                              //     \"FormDebiteur\",\n                              //     0,\n                              //     `${debiteur.id}`\n                              //   )\n                              // }\n                            />\n                          </td>\n                          <td>\n                            <img\n                              className=\"icone download pointer\"\n                              src={download}\n                              alt=\"download\"\n                              // onClick={() =>\n                              //   this.handleDelete(\n                              //     debiteur.id,\n                              //     debiteur.denomination_sociale\n                              //   )\n                              // }\n                            />\n                          </td>\n                          <td>\n                            <img\n                              className=\"icone download pointer\"\n                              src={download}\n                              alt=\"download\"\n                              // onClick={() =>\n                              //   this.handleDelete(\n                              //     debiteur.id,\n                              //     debiteur.denomination_sociale\n                              //   )\n                              // }\n                            />\n                          </td>\n                        </tr>\n                      );\n                    })}\n                  {/* <tr className=\"stripe-dark\">\n                    <td className=\"pa3\">xxxxxx</td>\n                    <td className=\"pa3\">xxxxxx</td>\n                    <td className=\"pa3\">xxxxxx</td>\n                    <td className=\"pa3\">\n                      <button className=\"button\">cloturer</button>\n                    </td>\n\n                    <td className=\"pa3\">\n                      <img\n                        className=\"icone download pointer\"\n                        src={download}\n                        alt=\"download\"\n                      />\n                    </td>\n                  </tr>\n                  <tr className=\"stripe-white\">\n                    <td className=\"pa3\">xxxxxx</td>\n                    <td className=\"pa3\">xxxxxx</td>\n                    <td className=\"pa3\">xxxxxx</td>\n\n                    <td className=\"pa3\">\n                      <button className=\"button\">cloturer</button>\n                    </td>\n\n                    <td className=\"pa3\">\n                      <img\n                        className=\"icone download pointer\"\n                        src={download}\n                        alt=\"download\"\n                      />\n                    </td>\n                  </tr>\n                  <tr className=\"stripe-dark\">\n                    <td className=\"pa3\">xxxxxx</td>\n                    <td className=\"pa3\">xxxxxx</td>\n                    <td className=\"pa3\">xxxxxx</td>\n\n                    <td className=\"pa3\">\n                      <button className=\"button\">cloturer</button>\n                    </td>\n\n                    <td className=\"pa3\">\n                      <img\n                        className=\"icone download pointer\"\n                        src={download}\n                        alt=\"download\"\n                      />\n                    </td>\n                  </tr>\n                  <tr className=\"stripe-dark\">\n                    <td className=\"pa3\">xxxxxx</td>\n                    <td className=\"pa3\">xxxxxx</td>\n                    <td className=\"pa3\">xxxxxx</td>\n\n                    <td className=\"pa3\">\n                      <button className=\"button\">cloturer</button>\n                    </td>\n\n                    <td className=\"pa3\">\n                      <img\n                        className=\"icone download pointer\"\n                        src={download}\n                        alt=\"download\"\n                      />\n                    </td>\n                  </tr>\n                  <tr className=\"stripe-dark\">\n                    <td className=\"pa3\">xxxxxx</td>\n                    <td className=\"pa3\">xxxxxx</td>\n                    <td className=\"pa3\">xxxxxx</td>\n\n                    <td className=\"pa3\">\n                      <button className=\"button\">cloturer</button>\n                    </td>\n\n                    <td className=\"pa3\">\n                      <img\n                        className=\"icone download pointer\"\n                        src={download}\n                        alt=\"download\"\n                      />\n                    </td>\n                  </tr> */}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Historique;\n"]},"metadata":{},"sourceType":"module"}